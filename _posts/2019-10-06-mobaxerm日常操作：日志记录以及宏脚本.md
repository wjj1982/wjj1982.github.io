layout: post
title: "mobaxerm日常操作：日志记录以及宏脚本"
date: 2019-10-06 
description: "mobaxerm日常操作：日志记录以及宏脚本"

## tag: 常用工具 

日志记录，即通过log的方式记录登陆窗口的打印信息，这里的打印信息包括用户的交互操作，以及操作结果，也包括窗口所有的自动打印消息。养成日志记录的习惯的好处是，分析问题，复盘问题以及甩锅^_^!。

宏脚本，即将用户常用的交互的命令等信息，存入一个宏文件，然后通过加载宏文件和系统自动进行交互，从而提高操作效率，避免重复劳动哈（说白了，就是懒^_^!）。

一、我们先看下日志记录，如下图

1. session选择登陆方式，我们以ssh为例；
2. 点击ssh；
3. 输入要登陆的设备或者系统IP；
4. 勾选，保存log；
5. 点击文件夹图标，弹出log保存路径选择器；
6. 选择保存路径；

日志就保存在选择路径，名字以MobaXterm_IP_date_time.txt类似的格式命名。

![](/images/posts/2019-09-20_220059-1.png)

二、宏脚本，如下图

1. 点击Macros标签，进入宏操作界面；
2. 首次使用可以点击record new macro，录制一个宏脚本；
3. 对于已存的宏脚本，可以重命名，编辑，复制一个宏脚本，删除宏脚本等操作；
4. 注意，录入宏时，可能会因为MobaX免费版本而提示版本不支持，无所谓，有一个宏脚本就可以不断复制修改即可。

![](/images/posts/2019-09-20_222016-2.png)

以编辑宏脚本为例：

1. 脚本中一条命令作为一行，当然还有return穿插其中；
2. 以插入行为例，点击insert new line below，弹出后侧的对话框；
3. text为输入的命令，key press为键盘操作，sleep为输入后停顿时间，wait for pattern暂时没用到，后面补充哈（^_^!）

宏脚本时顺序逐行输入，我们需要加入sleep时间，来控制命令的输入速度，防止一条命令没有执行完就输入了第二条，就会引起错误。

![](/images/posts/2019-09-20_222807-3.png)







